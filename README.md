# 📊 Instagram Photo Analyzer

一个专为摄影师设计的浏览器扩展程序，可以在浏览Instagram时实时分析图片的直方图、色彩和曝光参数。

## ✨ 功能特点

- 📈 **实时RGB直方图显示** - 悬停图片即可查看详细的RGB直方图
- 💡 **亮度和对比度分析** - 自动计算图片的平均亮度和对比度
- 🌈 **色温和饱和度检测** - 分析图片的色彩特征
- ⚡ **即时分析** - 无需保存图片，鼠标悬停即可分析
- 🎯 **专业级精度** - 使用标准的图像分析算法

## 🚀 安装方法

### 开发模式安装 (推荐)
1. 下载或克隆此项目到本地
2. 打开Chrome浏览器，进入 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹

### 图标文件准备
在安装前，你需要准备以下尺寸的图标文件并放入 `icons/` 文件夹：
- `icon16.png` (16x16 像素)
- `icon48.png` (48x48 像素)  
- `icon128.png` (128x128 像素)

你可以使用任何图片编辑软件创建一个简单的直方图图标，或者使用在线工具：
- [Favicon Generator](https://www.favicon-generator.org/)
- [IconGenerator](https://icon-generator.net/)

## 📖 使用方法

1. **启用扩展程序**
   - 安装后，扩展程序会自动启用
   - 你可以在右上角看到扩展图标

2. **访问Instagram**
   - 打开 [instagram.com](https://instagram.com)
   - 登录你的账户

3. **分析图片**
   - 将鼠标悬停在任何图片上
   - 自动显示分析面板，包含：
     - RGB直方图
     - 平均亮度百分比
     - 对比度数值
     - 色温（开尔文）
     - 饱和度百分比

4. **控制分析器**
   - 点击右侧的"📊 分析"按钮可以开关分析功能
   - 通过扩展程序弹出窗口可以进行更多设置

## 🛠️ 技术特性

### 图像分析算法
- **直方图计算**: 分析RGB三通道的像素分布
- **亮度计算**: 使用标准亮度公式 (0.299*R + 0.587*G + 0.114*B)
- **对比度分析**: 基于像素亮度范围计算
- **色温估算**: 基于RGB比值的简化色温算法
- **饱和度计算**: HSV色彩空间的饱和度分量

### 性能优化
- 图片自动缩放到400px以内以提高分析速度
- 使用Canvas API进行高效的像素数据处理
- 异步处理避免阻塞用户界面
- 智能缓存减少重复计算

### 兼容性
- ✅ Chrome 88+
- ✅ Firefox 90+ (需要转换为Firefox扩展格式)
- ✅ Edge 88+
- ✅ Instagram 网页版

## 🔧 开发说明

### 项目结构
```
Histogram/
├── manifest.json          # 扩展程序配置
├── content.js             # 内容脚本 (核心分析功能)
├── content.css            # 样式文件
├── popup.html             # 弹出窗口界面
├── popup.js              # 弹出窗口逻辑
├── background.js         # 后台服务
├── icons/                # 图标文件夹
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
└── README.md
```

### 核心功能模块
1. **InstagramPhotoAnalyzer** - 主分析器类
2. **图片检测和提取** - 识别Instagram图片元素
3. **图像数据分析** - Canvas API处理像素数据
4. **直方图渲染** - 实时绘制RGB直方图
5. **用户界面** - 悬浮式分析面板

### 自定义设置
可以通过修改以下参数来调整分析行为：
- `maxSize`: 分析图片的最大尺寸 (默认: 400px)
- 色温计算公式
- 直方图显示样式
- 分析面板位置和样式

## 🎯 使用场景

### 摄影师工作流程
1. **灵感收集** - 浏览Instagram时快速分析优秀作品的曝光参数
2. **色彩研究** - 了解不同摄影风格的色彩特征
3. **技术学习** - 通过直方图分析学习曝光技巧
4. **作品对比** - 比较不同摄影师的色彩处理方式

### 支持的分析类型
- **人像摄影** - 分析肤色色温和曝光
- **风景摄影** - 了解天空和地面的亮度分布
- **街拍摄影** - 研究复杂光线条件下的曝光策略
- **产品摄影** - 分析商品摄影的色彩还原

## ❗ 注意事项

1. **隐私保护**
   - 本扩展程序不会上传或保存任何图片数据
   - 所有分析都在本地完成
   - 不会收集用户个人信息

2. **性能影响**
   - 分析过程会消耗一定的计算资源
   - 在性能较低的设备上可能有轻微延迟
   - 可以随时关闭分析功能以节省性能

3. **Instagram政策**
   - 本工具仅用于查看和分析，不涉及下载或保存图片
   - 遵守Instagram的使用条款和政策
   - 建议仅用于学习和研究目的

## 🐛 问题反馈

如果遇到问题或有功能建议，请：
1. 检查浏览器控制台是否有错误信息
2. 确认扩展程序已正确安装并启用
3. 确认当前页面是Instagram.com
4. 尝试刷新页面或重新加载扩展程序

## 📄 许可证

本项目采用 MIT 许可证。

---

**专为摄影师打造的Instagram分析工具** 📸✨
